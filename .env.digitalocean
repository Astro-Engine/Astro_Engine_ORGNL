#
# DigitalOcean App Platform Environment Configuration
# This file is for reference - actual env vars are set in .do/app.yaml
# DigitalOcean App Platform will automatically inject these variables
#

# Flask Configuration
FLASK_ENV=production
FLASK_DEBUG=false
HOST=0.0.0.0
PORT=5000

# Gunicorn Configuration
WORKERS=4
TIMEOUT=120

# Application Paths
PYTHONPATH=/app
EPHEMERIS_PATH=/app/astro_engine/ephe
EPHEMERIS_CACHE_SIZE=1000

# Security (IMPORTANT: Change SECRET_KEY in production!)
# SECRET_KEY will be injected by DigitalOcean as a secret
SECRET_KEY=WILL_BE_SET_BY_DIGITALOCEAN_APP_PLATFORM

# API Key Authentication (Phase 1, Module 1.3)
# Enable/disable API key authentication
AUTH_REQUIRED=true

# Valid API Keys (comma-separated)
# Format: service1_key,service2_key,service3_key
# IMPORTANT: Replace these with actual generated keys (see API_KEYS_REGISTRY.md)
VALID_API_KEYS=REPLACE_WITH_GENERATED_KEYS_FROM_SECURE_STORAGE

# Routes exempt from authentication (comma-separated paths)
# These routes are accessible without API key (for monitoring)
AUTH_EXEMPT_ROUTES=/health,/metrics,/auth/health,/auth/stats,/auth/keys/info

# CORS Configuration
# Update with your actual frontend domains
CORS_ORIGINS=*

# Request Size Limits (Phase 18, Module 18.1)
# Maximum request body size in MB (prevents memory exhaustion)
MAX_REQUEST_SIZE_MB=1

# Rate Limiting (Phase 1, Module 1.4)
# INTERNAL SERVICES: Effectively unlimited (1M requests/hour)
# Since all services are internal to Astro Corp ecosystem, rate limiting
# between our own services doesn't make sense. Using very high limits.
RATE_LIMIT_CORP_BACKEND=1000000 per hour
RATE_LIMIT_ASTRO_RATAN=1000000 per hour
RATE_LIMIT_REPORT_ENGINE=1000000 per hour
RATE_LIMIT_TESTING=1000000 per hour
RATE_LIMIT_DEFAULT=1000000 per hour

# Logging
LOG_LEVEL=INFO
LOG_FILE=/app/logs/astro_engine.log
LOG_MAX_BYTES=104857600
LOG_BACKUP_COUNT=5

# Monitoring & Metrics
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Cache Configuration
CACHE_ENABLED=true
CACHE_DEFAULT_TIMEOUT=86400

# Redis Configuration
# REDIS_URL will be automatically injected by DigitalOcean when database is attached
# Format: redis://username:password@host:port/database
# REDIS_URL=${redis-cache.REDIS_URL}

# Database Configuration (Future)
# DATABASE_URL will be automatically injected if you add a PostgreSQL database
# DATABASE_URL=${database.DATABASE_URL}

# External Services (Optional - Add as needed)
# SENTRY_DSN=your-sentry-dsn
# WEBHOOK_URL=your-webhook-url-for-alerts
# SMTP_HOST=your-smtp-host
# SMTP_PORT=587
# SMTP_USER=your-smtp-user
# SMTP_PASSWORD=your-smtp-password

# API Keys (Add as DigitalOcean Secrets)
# API_KEY_REQUIRED=true
# VALID_API_KEYS=key1,key2,key3

# Feature Flags
# ENABLE_CELERY=false
# ENABLE_BACKGROUND_JOBS=false
# ENABLE_ANALYTICS=false
